# Hyprland Configuration
# https://wiki.hypr.land/Configuring/

# ==================
# MONITOR CONFIG
# ==================
# monitor = eDP-2, 2560x1600@239.998993, 2560x0, 1, vrr, 1
monitor = , preferred,auto,auto

# ==================
# STARTUP APPS
# ==================
exec-once = dbus-update-activation-environment --systemd --all
exec-once = systemctl --user start hyprland-session.target

#################
### AUTOSTART ###
#################

# Autostart necessary processes (like notifications daemons, status bars, etc.)
# Or execute your favorite apps at launch like this:
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
exec-once = bitwarden-desktop &
exec-once = "/usr/bin/nextcloud" --background &
exec-once = udiskie -t &
exec-once = Telegram -startintray &


# ==================
# INPUT CONFIG
# ==================
input {
    kb_layout = br
    kb_variant = abnt2
    kb_model = thinkpad
    kb_options =
    kb_rules =

    follow_mouse = 1

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.

    touchpad {
        natural_scroll = false
    }
    repeat_rate = 35
    repeat_delay = 200
}
cursor {
    # this ensures your mouse cursor doesn't glitch out
    inactive_timeout = 30
    no_hardware_cursors = true
}

# ==================
# GENERAL LAYOUT
# ==================
general {
    gaps_in = 5
    gaps_out = 5
    border_size = 2

    layout = dwindle
}

# ==================
# DECORATION
# ==================
decoration {
    rounding = 10
    rounding_power = 2

    # Change transparency of focused and unfocused windows
    active_opacity = 1.0
    inactive_opacity = 1.0

    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }

    # https://wiki.hypr.land/Configuring/Variables/#blur
    blur {
        enabled = true
        size = 3
        passes = 1

        vibrancy = 0.1696
    }
}
# ==================
# ANIMATIONS
# ==================
animations {
    enabled = yes, please :)

    # Default animations, see https://wiki.hypr.land/Configuring/Animations/ for more

    bezier = easeOutQuint,0.23,1,0.32,1
    bezier = easeInOutCubic,0.65,0.05,0.36,1
    bezier = linear,0,0,1,1
    bezier = almostLinear,0.5,0.5,0.75,1.0
    bezier = quick,0.15,0,0.1,1

    animation = global, 1, 10, default
    animation = border, 1, 5.39, easeOutQuint
    animation = windows, 1, 4.79, easeOutQuint
    animation = windowsIn, 1, 4.1, easeOutQuint, popin 87%
    animation = windowsOut, 1, 1.49, linear, popin 87%
    animation = fadeIn, 1, 1.73, almostLinear
    animation = fadeOut, 1, 1.46, almostLinear
    animation = fade, 1, 3.03, quick
    animation = layers, 1, 3.81, easeOutQuint
    animation = layersIn, 1, 4, easeOutQuint, fade
    animation = layersOut, 1, 1.5, linear, fade
    animation = fadeLayersIn, 1, 1.79, almostLinear
    animation = fadeLayersOut, 1, 1.39, almostLinear
    animation = workspaces, 1, 1.94, almostLinear, fade
    animation = workspacesIn, 1, 1.21, almostLinear, fade
    animation = workspacesOut, 1, 1.94, almostLinear, fade
}

# ==================
# LAYOUTS
# ==================
dwindle {
    preserve_split = true
}

master {
    mfact = 0.5
}

# ==================
# MISC
# ==================
misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    vrr = 1
}

# ==================
# WINDOW RULES
# ==================
windowrule = tile on, match:class ^(org\.wezfurlong\.wezterm)$

windowrule = rounding 12, match:class ^(org\.gnome\.)

windowrule = tile on, match:class ^(gnome-control-center)$
windowrule = tile on, match:class ^(pavucontrol)$
windowrule = tile on, match:class ^(nm-connection-editor)$

windowrule = float on, match:class ^(gnome-calculator)$
windowrule = float on, match:class ^(galculator)$
windowrule = float on, match:class ^(blueman-manager)$
windowrule = float on, match:class ^(org\.gnome\.Nautilus)$
windowrule = float on, match:class ^(steam)$
windowrule = float on, match:class ^(xdg-desktop-portal)$

windowrule = float on, match:class ^(firefox)$, match:title ^(Picture-in-Picture)$
windowrule = float on, match:class ^(zoom)$

##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Example windowrule
# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$

# ========== REGLAS DE FLOTANTES ==========

# Viewnior - flotante con tamaño personalizado
windowrule = float 1, match:class ^(viewnior)$, size 800 600, center on
# # Aplicaciones de configuración del sistema
windowrule = float 1, match:class ^(pavucontrol)$, size 600 400, center on
# # Aplicaciones de configuración del sistema
windowrule = float 1, match:class ^(blueman-manager)$, size 800 600, center on
# # Herramientas de captura de pantalla
windowrule = float 1, match:class ^(flameshot)$, size 600 400, center on
# # Terminales flotantes (para comandos rápidos)
windowrule = float 1, match:class ^(kitty-floating)$, size 1280 770, center on
# # MegaSync
windowrule = float 1, match:class ^(nz.co.mega.megasync)$, center on
# # Aplicaciones de descarga
windowrule = float 1, match:class ^(transmission-gtk|transmission-qt)$, size 900 600, center on
# # Telegram BotFather Miniapp
windowrule = float 1, match:title ^(Miniapp: BotFather)$
# # ========== REGLAS POR WORKSPACE ==========
# # Workspace 1: Terminales
windowrule = float 0,workspace 1, match:class ^(kitty|alacritty|gnome-terminal|terminator|xterm)$
# Workspace 2: Navegadores
windowrule = workspace 2, match:class ^(brave-browser|google-chrome|firefox)$
# Workspace 3: Navegadores de archivos
windowrule = workspace 3, match:class ^(thunar|nautilus|dolphin|pcmanfm|nemo|org.gnome.Nautilus)$
# Workspace 4: Editores de texto y código
windowrule = workspace 4, match:class ^(Antigravity|Code|vscodium|codium|sublime_text|gedit|kate|geany|mousepad)$
# Workspace 5: Mensajería
windowrule = workspace 5, match:class ^(discord|org.telegram.desktop|signal|whatsapp-for-linux|element)$
# Workspace 6: Aplicaciones multimedia y diseño (kdenlive, gimp, inkscape, com.obsproject.Studio, Audacity, org.kde.kdenlive)
windowrule = workspace 6, match:class ^(kdenlive|gimp|inkscape|com.obsproject.Studio|Audacity|org.kde.kdenlive)$
# Aplicaciones de configuración también en workspace 6
windowrule = workspace 6, match:class ^(pavucontrol|blueman-manager|gnome-control-center|systemsettings)$
# Workspace 7: VirtualBox
windowrule = workspace 7, match:class ^(VirtualBox)$, float 0, fullscreen 1
# DMS windows floating by default
# ! Hyprland doesn't size these windows correctly so disabling by default here
# windowrule = float on, match:class ^(org.quickshell)$

layerrule = no_anim on, match:namespace ^(quickshell)$

source = ./dms/colors.conf
source = ./dms/outputs.conf
source = ./dms/layout.conf
source = ./dms/cursor.conf
source = ./dms/binds.conf
